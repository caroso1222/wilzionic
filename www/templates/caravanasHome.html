<ion-view view-title="Caravanas">
  <ion-content>
     	<div class="card">
     		<div class="item item-text-wrap">
          <div class = "title-card-bici">Tus caravanas como <span style = "font-weight:700;color:#d43761;">lider</span></div>
          <hr class = "light-hr">
          <div ng-repeat="caravanaLider in caravanasLider">
          

  				<div class = "row" >
            <i class = "icon ion-ios-people icono-gente"></i>
            <span class = "num-inscritos">0</span>
  					<div class = "col col-25 fecha-div">
  						<span class = "dia-caravana">{{caravanaLider.dia}}{{caravanaLider.mes}}</span>
  						<span class = "hora-caravana">{{caravanaLider.hora}}:{{caravanaLider.min}}AM</span>
  					</div>
  					<div class = "col col-75">
  						<div class = "recorrido-div">
  							<div class = "div-origen">
  								<div class = "bullet-recorrido"></div>
  								<span class = "label-recorrido"> {{caravanaLider.origen}}</span>
  							</div>
  							<div class = "bullet-recorrido"></div>
  							<span class = "label-recorrido"> {{caravanaLider.destino}}</span>
  							<div class = "small-line line-1"></div>
  							<div class = "small-line line-2"></div>
  						</div>
  					</div>
  				</div>
          <a class="button button-block button-wilz-empty" ng-click="showConfirm(caravanaLider.id)" >
          Empezar recorrido
        </a>
          <hr class = "light-hr">
</div>
            
				<a class="button button-block button-wilz" ng-click="openModal()" >
					Publicar caravana
				</a>
        
			</div>
		</div>
  </ion-content>
</ion-view>

<script id="publicar-caravana-modal.html" type="text/ng-template">
  <div class="modal">
      
    <ion-content >
    <span class="titulo-modal-caravana">Publica tu caravana </span>

        <form ng-submit="registrarPublicacionCaravana()">
          <div class="list formulario-caravana">
            <label class="item item-input">
              <input type="text" ng-model="publicacionCaravana.origen" placeholder = "Origen" >
            </label>
            <label class="item item-input">
              <input type="text" ng-model="publicacionCaravana.destino" placeholder = "Destino" >
            </label>
            <label class="item item-input">
              <textarea placeholder = "¿Cuál será tu ruta?" ng-model="publicacionCaravana.ruta"></textarea>
            </label>
            <ionic-datepicker input-obj="datepickerObject" class = "ionic-datepicker-div">
              <button class="button button-full button-light" ng-bind = "darFecha()" id = "fecha-input" type = "button"> Fecha de salida </button>
            </ionic-datepicker>
            <ionic-timepicker input-obj="timePickerObject" class = "ionic-timepicker-div">
              <button class="button button-full button-light overflowShow" ng-bind = "darHora()" id = "hora-input" type = "button">
                <standard-time-meridian etime='timePickerObject.inputEpochTime'></standard-time-meridian>
              </button>
            </ionic-timepicker>
          </div>
          <div class = "row error-lbl">
            <div class = "col" ng-style="errorFechaCaravana" >
              <span ng-bind="errorFechaCaravanaMensaje"></span> 
            </div>
          </div>
          <button class="button button-full button-balanced" type="submit">Listo</button>
   		  </form>
   		<button class="button button-clear button-assertive btn-cancelar-caravana" ng-click = "closeModal()">
  			Cancelar
		</button>
    </ion-content>
  </div>
</script>